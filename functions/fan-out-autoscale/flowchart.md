```mermaid
flowchart TD
    CF["コントローラー関数 (func1)"]
    TP[トピック]

    CF -- "メッセージ" --> TP
    TP -- "サブスクリプション" --> WF

    WF["ワーカー関数 (func2)"]
    I1[インスタンス1]
    I2[インスタンス2]
    I3[インスタンス3]

    WF -- "自動スケールアウト" --> I1
    WF -- "自動スケールアウト" --> I2
    WF -- "自動スケールアウト" --> I3
```
